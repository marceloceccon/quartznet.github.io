<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Quartz.NET</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="shortcut icon" href="/favicon.ico">
    <script data-ad-client="ca-pub-2642923360660292" async="true" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <link rel="alternate" type="application/rss+xml" href="https://www.quartz-scheduler.net/rss.xml" title="Quartz.NET RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://www.quartz-scheduler.net/feed.atom" title="Quartz.NET Atom Feed">
    <link rel="alternate" type="application/json" href="https://www.quartz-scheduler.net/feed.json" title="Quartz.NET JSON Feed">
    <meta name="description" content="Open-source scheduling framework for .NET.">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/assets/css/0.styles.af8ca635.css" as="style"><link rel="preload" href="/assets/js/app.644f9716.js" as="script"><link rel="preload" href="/assets/js/3.836353be.js" as="script"><link rel="preload" href="/assets/js/106.8db45d2f.js" as="script"><link rel="prefetch" href="/assets/js/10.5459967e.js"><link rel="prefetch" href="/assets/js/100.70eedb6c.js"><link rel="prefetch" href="/assets/js/101.e7dd71b5.js"><link rel="prefetch" href="/assets/js/102.d099ddb5.js"><link rel="prefetch" href="/assets/js/103.4cce09e1.js"><link rel="prefetch" href="/assets/js/104.8a143487.js"><link rel="prefetch" href="/assets/js/105.bbb1e2b5.js"><link rel="prefetch" href="/assets/js/107.7ec33075.js"><link rel="prefetch" href="/assets/js/108.428f64db.js"><link rel="prefetch" href="/assets/js/109.60b57a1e.js"><link rel="prefetch" href="/assets/js/11.e2aadbde.js"><link rel="prefetch" href="/assets/js/110.ee5b642d.js"><link rel="prefetch" href="/assets/js/111.5ea56c24.js"><link rel="prefetch" href="/assets/js/112.89daa3a8.js"><link rel="prefetch" href="/assets/js/113.50eb57e0.js"><link rel="prefetch" href="/assets/js/114.5a891d47.js"><link rel="prefetch" href="/assets/js/115.503308f5.js"><link rel="prefetch" href="/assets/js/116.edf242c3.js"><link rel="prefetch" href="/assets/js/117.87d68a22.js"><link rel="prefetch" href="/assets/js/118.1a20ec6b.js"><link rel="prefetch" href="/assets/js/119.5545109a.js"><link rel="prefetch" href="/assets/js/12.632699a6.js"><link rel="prefetch" href="/assets/js/120.ac3b1282.js"><link rel="prefetch" href="/assets/js/121.b9c8a72f.js"><link rel="prefetch" href="/assets/js/122.702d9fad.js"><link rel="prefetch" href="/assets/js/123.b873e59c.js"><link rel="prefetch" href="/assets/js/124.73484c48.js"><link rel="prefetch" href="/assets/js/125.834b7256.js"><link rel="prefetch" href="/assets/js/126.b04be9d4.js"><link rel="prefetch" href="/assets/js/127.c6f5a2c8.js"><link rel="prefetch" href="/assets/js/128.853bfa59.js"><link rel="prefetch" href="/assets/js/129.7ab2d0f4.js"><link rel="prefetch" href="/assets/js/13.c53349db.js"><link rel="prefetch" href="/assets/js/130.7520b2f6.js"><link rel="prefetch" href="/assets/js/131.3ca645f0.js"><link rel="prefetch" href="/assets/js/132.085b22a6.js"><link rel="prefetch" href="/assets/js/133.31ba988e.js"><link rel="prefetch" href="/assets/js/134.5f7ce1ad.js"><link rel="prefetch" href="/assets/js/135.be16f19a.js"><link rel="prefetch" href="/assets/js/136.140bec4e.js"><link rel="prefetch" href="/assets/js/137.190e4125.js"><link rel="prefetch" href="/assets/js/138.4c3cfb4a.js"><link rel="prefetch" href="/assets/js/139.cea60de7.js"><link rel="prefetch" href="/assets/js/14.6535f905.js"><link rel="prefetch" href="/assets/js/140.36579d77.js"><link rel="prefetch" href="/assets/js/141.525f1ea1.js"><link rel="prefetch" href="/assets/js/142.96c3d32b.js"><link rel="prefetch" href="/assets/js/143.65da32ed.js"><link rel="prefetch" href="/assets/js/144.556a0663.js"><link rel="prefetch" href="/assets/js/145.26e39b62.js"><link rel="prefetch" href="/assets/js/146.7013284f.js"><link rel="prefetch" href="/assets/js/15.1ae9a94a.js"><link rel="prefetch" href="/assets/js/16.97abe17d.js"><link rel="prefetch" href="/assets/js/17.2cd0575f.js"><link rel="prefetch" href="/assets/js/18.729d30ae.js"><link rel="prefetch" href="/assets/js/19.e79f2201.js"><link rel="prefetch" href="/assets/js/20.649245c0.js"><link rel="prefetch" href="/assets/js/21.1a3614c5.js"><link rel="prefetch" href="/assets/js/22.8a66bf8f.js"><link rel="prefetch" href="/assets/js/23.e7ae5d25.js"><link rel="prefetch" href="/assets/js/24.cde296f3.js"><link rel="prefetch" href="/assets/js/25.346eb63b.js"><link rel="prefetch" href="/assets/js/26.4a2442fe.js"><link rel="prefetch" href="/assets/js/27.1ced7f91.js"><link rel="prefetch" href="/assets/js/28.8cf196b8.js"><link rel="prefetch" href="/assets/js/29.d3bbf14c.js"><link rel="prefetch" href="/assets/js/30.2285aa3b.js"><link rel="prefetch" href="/assets/js/31.de5c4db1.js"><link rel="prefetch" href="/assets/js/32.35d4940b.js"><link rel="prefetch" href="/assets/js/33.32a324dc.js"><link rel="prefetch" href="/assets/js/34.4cefe782.js"><link rel="prefetch" href="/assets/js/35.3912f4fb.js"><link rel="prefetch" href="/assets/js/36.3b387353.js"><link rel="prefetch" href="/assets/js/37.193bf8a1.js"><link rel="prefetch" href="/assets/js/38.83de4ad0.js"><link rel="prefetch" href="/assets/js/39.9607a50c.js"><link rel="prefetch" href="/assets/js/4.9a469852.js"><link rel="prefetch" href="/assets/js/40.e5ff7906.js"><link rel="prefetch" href="/assets/js/41.7affac67.js"><link rel="prefetch" href="/assets/js/42.00fe8e23.js"><link rel="prefetch" href="/assets/js/43.4f7d0962.js"><link rel="prefetch" href="/assets/js/44.fd58bb75.js"><link rel="prefetch" href="/assets/js/45.07c03278.js"><link rel="prefetch" href="/assets/js/46.6b0f5704.js"><link rel="prefetch" href="/assets/js/47.1b566e3b.js"><link rel="prefetch" href="/assets/js/48.31882e6a.js"><link rel="prefetch" href="/assets/js/49.350a7768.js"><link rel="prefetch" href="/assets/js/5.b59b1de3.js"><link rel="prefetch" href="/assets/js/50.511e3e44.js"><link rel="prefetch" href="/assets/js/51.86078c87.js"><link rel="prefetch" href="/assets/js/52.b04217a8.js"><link rel="prefetch" href="/assets/js/53.d4849106.js"><link rel="prefetch" href="/assets/js/54.568a20d9.js"><link rel="prefetch" href="/assets/js/55.b96bcec3.js"><link rel="prefetch" href="/assets/js/56.6c9b74df.js"><link rel="prefetch" href="/assets/js/57.00f4144b.js"><link rel="prefetch" href="/assets/js/58.816401b6.js"><link rel="prefetch" href="/assets/js/59.39f29e19.js"><link rel="prefetch" href="/assets/js/6.4b03a90b.js"><link rel="prefetch" href="/assets/js/60.65653623.js"><link rel="prefetch" href="/assets/js/61.7418f9a5.js"><link rel="prefetch" href="/assets/js/62.0bc12fc5.js"><link rel="prefetch" href="/assets/js/63.a9ad1d02.js"><link rel="prefetch" href="/assets/js/64.d0324155.js"><link rel="prefetch" href="/assets/js/65.4e9653df.js"><link rel="prefetch" href="/assets/js/66.3e14e87f.js"><link rel="prefetch" href="/assets/js/67.1aade945.js"><link rel="prefetch" href="/assets/js/68.ada97766.js"><link rel="prefetch" href="/assets/js/69.3918d066.js"><link rel="prefetch" href="/assets/js/7.73b42248.js"><link rel="prefetch" href="/assets/js/70.6d54ab0b.js"><link rel="prefetch" href="/assets/js/71.a7334470.js"><link rel="prefetch" href="/assets/js/72.337891b4.js"><link rel="prefetch" href="/assets/js/73.6f58b4eb.js"><link rel="prefetch" href="/assets/js/74.a79659d2.js"><link rel="prefetch" href="/assets/js/75.ac772cc7.js"><link rel="prefetch" href="/assets/js/76.ac780687.js"><link rel="prefetch" href="/assets/js/77.b087b822.js"><link rel="prefetch" href="/assets/js/78.0c35c107.js"><link rel="prefetch" href="/assets/js/79.c0acd288.js"><link rel="prefetch" href="/assets/js/8.d0570d6e.js"><link rel="prefetch" href="/assets/js/80.f966b0e7.js"><link rel="prefetch" href="/assets/js/81.a91e6c4f.js"><link rel="prefetch" href="/assets/js/82.d6972444.js"><link rel="prefetch" href="/assets/js/83.5fb1964c.js"><link rel="prefetch" href="/assets/js/84.11a39734.js"><link rel="prefetch" href="/assets/js/85.7a20170c.js"><link rel="prefetch" href="/assets/js/86.f892a53a.js"><link rel="prefetch" href="/assets/js/87.0a9e471c.js"><link rel="prefetch" href="/assets/js/88.677da331.js"><link rel="prefetch" href="/assets/js/89.52251cd3.js"><link rel="prefetch" href="/assets/js/9.f3852c3d.js"><link rel="prefetch" href="/assets/js/90.88b29d89.js"><link rel="prefetch" href="/assets/js/91.4a66f8db.js"><link rel="prefetch" href="/assets/js/92.46584aef.js"><link rel="prefetch" href="/assets/js/93.e616473a.js"><link rel="prefetch" href="/assets/js/94.8b47a217.js"><link rel="prefetch" href="/assets/js/95.487cae6e.js"><link rel="prefetch" href="/assets/js/96.848a034e.js"><link rel="prefetch" href="/assets/js/97.d11e3968.js"><link rel="prefetch" href="/assets/js/98.1252ce69.js"><link rel="prefetch" href="/assets/js/99.f28f8a22.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.eec9cc92.js">
    <link rel="stylesheet" href="/assets/css/0.styles.af8ca635.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/quartz-logo-small.png" alt="Quartz.NET" class="logo"> <span class="site-name can-hide">Quartz.NET</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/features.html" class="nav-link">
  Features
</a></div><div class="nav-item"><a href="/blog.html" class="nav-link">
  Blog
</a></div><div class="nav-item"><a href="https://github.com/quartznet/quartznet/discussions" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discussions
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://nuget.org/packages/Quartz" target="_blank" rel="noopener noreferrer" class="nav-link external">
  NuGet
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/quartznet/quartznet" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/features.html" class="nav-link">
  Features
</a></div><div class="nav-item"><a href="/blog.html" class="nav-link">
  Blog
</a></div><div class="nav-item"><a href="https://github.com/quartznet/quartznet/discussions" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discussions
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://nuget.org/packages/Quartz" target="_blank" rel="noopener noreferrer" class="nav-link external">
  NuGet
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/quartznet/quartznet" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Getting Started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/documentation/quartz-3.x/quick-start.html" class="sidebar-link">Quartz 3 Quick Start</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/documentation/quartz-3.x/tutorial/" class="sidebar-heading clickable"><span>Tutorial</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/documentation/quartz-3.x/configuration/reference.html" class="sidebar-link">Configuration Reference</a></li><li><a href="/documentation/faq.html" class="sidebar-link">Frequently Asked Questions</a></li><li><a href="/documentation/best-practices.html" class="sidebar-link">Best Practices</a></li><li><a href="http://quartznet.sourceforge.net/apidoc/3.0/html" target="_blank" rel="noopener noreferrer" class="sidebar-link">API Documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li><a href="/documentation/quartz-3.x/migration-guide.html" class="sidebar-link">Migration Guide</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Packages</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Quartz Core Additions</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/documentation/quartz-3.x/packages/quartz-jobs.html" class="sidebar-link">Jobs</a></li><li><a href="/documentation/quartz-3.x/packages/json-serialization.html" class="sidebar-link">JSON Serialization</a></li><li><a href="/documentation/quartz-3.x/packages/quartz-plugins.html" class="sidebar-link">Plugins</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>Integrations</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/documentation/quartz-3.x/packages/aspnet-core-integration.html" class="sidebar-link">ASP.NET Core Integration</a></li><li><a href="/documentation/quartz-3.x/packages/hosted-services-integration.html" class="sidebar-link">Hosted Services Integration</a></li><li><a href="/documentation/quartz-3.x/packages/microsoft-di-integration.html" aria-current="page" class="active sidebar-link">Microsoft DI Integration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documentation/quartz-3.x/packages/microsoft-di-integration.html#installation" class="sidebar-link">Installation</a></li><li class="sidebar-sub-header"><a href="/documentation/quartz-3.x/packages/microsoft-di-integration.html#using" class="sidebar-link">Using</a></li><li class="sidebar-sub-header"><a href="/documentation/quartz-3.x/packages/microsoft-di-integration.html#di-aware-job-factories" class="sidebar-link">DI aware job factories</a></li></ul></li><li><a href="/documentation/quartz-3.x/packages/opentelemetry-integration.html" class="sidebar-link">OpenTelemetry Integration</a></li><li><a href="/documentation/quartz-3.x/packages/opentracing-integration.html" class="sidebar-link">OpenTracing Integration</a></li><li><a href="/documentation/quartz-3.x/packages/timezoneconverter-integration.html" class="sidebar-link">TimeZoneConverter Integration</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Old Releases</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/license.html" class="sidebar-link">License</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p><a href="https://www.nuget.org/packages/Quartz.Extensions.DependencyInjection" target="_blank" rel="noopener noreferrer">Quartz.Extensions.DependencyInjection<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
provides integration with <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/dependency-injection" target="_blank" rel="noopener noreferrer">Microsoft Dependency Injection<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Quartz 3.1 or later required.</p></div> <h2 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h2> <p>You need to add NuGet package reference to your project which uses Quartz.</p> <div class="language- extra-class"><pre><code>Install-Package Quartz.Extensions.DependencyInjection
</code></pre></div><h2 id="using"><a href="#using" class="header-anchor">#</a> Using</h2> <p>You can add Quartz configuration by invoking an extension method <code>AddQuartz</code> on <code>IServiceCollection</code>.
The configuration building wraps various <a href="../configuration/reference">configuration properties</a> with strongly-typed API.
You can also configure properties using standard .NET Core <code>appsettings.json</code> inside configuration section <code>Quartz</code>.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><a href="/documentation/quartz-3.x/packages/hosted-services-integration.html">Quartz.Extensions.Hosting</a> allows you to have a background service for your application that handles starting and stopping the scheduler.</p></div> <p><strong>Example appsettings.json</strong></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;Logging&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;LogLevel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;Default&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Information&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Microsoft&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Warning&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Microsoft.Hosting.Lifetime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Information&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;Quartz&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;quartz.scheduler.instanceName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Quartz ASP.NET Core Sample Scheduler&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="di-aware-job-factories"><a href="#di-aware-job-factories" class="header-anchor">#</a> DI aware job factories</h2> <p>Quartz comes with two built-in alternatives for job factory which can be configured via either calling <code>UseMicrosoftDependencyInjectionJobFactory</code> or <code>UseMicrosoftDependencyInjectionScopedJobFactory</code> (deprecated).</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>As of Quartz.NET 3.3.2 all jobs produced by the default job factory are scoped jobs, you should no longer use <code>UseMicrosoftDependencyInjectionScopedJobFactory</code>.</p></div> <h3 id="job-instance-construction"><a href="#job-instance-construction" class="header-anchor">#</a> Job instance construction</h3> <p>By default Quartz will try to resolve job's type from container and if there's no explicit registration Quartz will use <code>ActivatorUtilities</code> to construct job and inject it's dependencies
via constructor. Job should have only one public constructor.</p> <h3 id="persistent-job-stores"><a href="#persistent-job-stores" class="header-anchor">#</a> Persistent job stores</h3> <p>The scheduling configuration will be checked against database and updated accordingly every time your application starts and schedule is being evaluated.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>When using persistent job store, make sure you define job and trigger names for your scheduling so that existence checks work correctly against
the data you already have in your database.</p> <p>Using API to configure triggers and jobs without explicit job identity configuration will cause jobs and triggers to have different generated name each time configuration is being evaluated.</p> <p>With persistent job stores it's best practice to always declare at least job and trigger name. Omitting the group for them will produce same default group value for every invocation.</p></div> <p><strong>Example Startup.ConfigureServices configuration</strong></p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">ConfigureServices</span><span class="token punctuation">(</span><span class="token class-name">IServiceCollection</span> services<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// base configuration from appsettings.json</span>
    services<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Configure</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>QuartzOptions<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>Configuration<span class="token punctuation">.</span><span class="token function">GetSection</span><span class="token punctuation">(</span><span class="token string">&quot;Quartz&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// if you are using persistent job store, you might want to alter some options</span>
    services<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Configure</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>QuartzOptions<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>options <span class="token operator">=&gt;</span>
    <span class="token punctuation">{</span>
        options<span class="token punctuation">.</span>Scheduling<span class="token punctuation">.</span>IgnoreDuplicates <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// default: false</span>
        options<span class="token punctuation">.</span>Scheduling<span class="token punctuation">.</span>OverWriteExistingData <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// default: true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    services<span class="token punctuation">.</span><span class="token function">AddQuartz</span><span class="token punctuation">(</span>q <span class="token operator">=&gt;</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// handy when part of cluster or you want to otherwise identify multiple schedulers</span>
        q<span class="token punctuation">.</span>SchedulerId <span class="token operator">=</span> <span class="token string">&quot;Scheduler-Core&quot;</span><span class="token punctuation">;</span>
        
        <span class="token comment">// we take this from appsettings.json, just show it's possible</span>
        <span class="token comment">// q.SchedulerName = &quot;Quartz ASP.NET Core Sample Scheduler&quot;;</span>
        
        <span class="token comment">// as of 3.3.2 this also injects scoped services (like EF DbContext) without problems</span>
        q<span class="token punctuation">.</span><span class="token function">UseMicrosoftDependencyInjectionJobFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// or for scoped service support like EF Core DbContext</span>
        <span class="token comment">// q.UseMicrosoftDependencyInjectionScopedJobFactory();</span>
        
        <span class="token comment">// these are the defaults</span>
        q<span class="token punctuation">.</span><span class="token function">UseSimpleTypeLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        q<span class="token punctuation">.</span><span class="token function">UseInMemoryStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        q<span class="token punctuation">.</span><span class="token function">UseDefaultThreadPool</span><span class="token punctuation">(</span>tp <span class="token operator">=&gt;</span>
        <span class="token punctuation">{</span>
            tp<span class="token punctuation">.</span>MaxConcurrency <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// quickest way to create a job with single trigger is to use ScheduleJob</span>
        <span class="token comment">// (requires version 3.2)</span>
        q<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">ScheduleJob</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>ExampleJob<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>trigger <span class="token operator">=&gt;</span> trigger
            <span class="token punctuation">.</span><span class="token function">WithIdentity</span><span class="token punctuation">(</span><span class="token string">&quot;Combined Configuration Trigger&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">StartAt</span><span class="token punctuation">(</span>DateBuilder<span class="token punctuation">.</span><span class="token function">EvenSecondDate</span><span class="token punctuation">(</span>DateTimeOffset<span class="token punctuation">.</span>UtcNow<span class="token punctuation">.</span><span class="token function">AddSeconds</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">WithDailyTimeIntervalSchedule</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span><span class="token function">WithInterval</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> IntervalUnit<span class="token punctuation">.</span>Second<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">WithDescription</span><span class="token punctuation">(</span><span class="token string">&quot;my awesome trigger configured for a job with single call&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// you can also configure individual jobs and triggers with code</span>
        <span class="token comment">// this allows you to associated multiple triggers with same job</span>
        <span class="token comment">// (if you want to have different job data map per trigger for example)</span>
        q<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddJob</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>ExampleJob<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>j <span class="token operator">=&gt;</span> j
            <span class="token punctuation">.</span><span class="token function">StoreDurably</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// we need to store durably if no trigger is associated</span>
            <span class="token punctuation">.</span><span class="token function">WithDescription</span><span class="token punctuation">(</span><span class="token string">&quot;my awesome job&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// here's a known job for triggers</span>
        <span class="token class-name"><span class="token keyword">var</span></span> jobKey <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">JobKey</span><span class="token punctuation">(</span><span class="token string">&quot;awesome job&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;awesome group&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        q<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddJob</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>ExampleJob<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>jobKey<span class="token punctuation">,</span> j <span class="token operator">=&gt;</span> j
            <span class="token punctuation">.</span><span class="token function">WithDescription</span><span class="token punctuation">(</span><span class="token string">&quot;my awesome job&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>

        q<span class="token punctuation">.</span><span class="token function">AddTrigger</span><span class="token punctuation">(</span>t <span class="token operator">=&gt;</span> t
            <span class="token punctuation">.</span><span class="token function">WithIdentity</span><span class="token punctuation">(</span><span class="token string">&quot;Simple Trigger&quot;</span><span class="token punctuation">)</span>    
            <span class="token punctuation">.</span><span class="token function">ForJob</span><span class="token punctuation">(</span>jobKey<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">StartNow</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">WithSimpleSchedule</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span><span class="token function">WithInterval</span><span class="token punctuation">(</span>TimeSpan<span class="token punctuation">.</span><span class="token function">FromSeconds</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">RepeatForever</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">WithDescription</span><span class="token punctuation">(</span><span class="token string">&quot;my awesome simple trigger&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>

        q<span class="token punctuation">.</span><span class="token function">AddTrigger</span><span class="token punctuation">(</span>t <span class="token operator">=&gt;</span> t
            <span class="token punctuation">.</span><span class="token function">WithIdentity</span><span class="token punctuation">(</span><span class="token string">&quot;Cron Trigger&quot;</span><span class="token punctuation">)</span>    
            <span class="token punctuation">.</span><span class="token function">ForJob</span><span class="token punctuation">(</span>jobKey<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">StartAt</span><span class="token punctuation">(</span>DateBuilder<span class="token punctuation">.</span><span class="token function">EvenSecondDate</span><span class="token punctuation">(</span>DateTimeOffset<span class="token punctuation">.</span>UtcNow<span class="token punctuation">.</span><span class="token function">AddSeconds</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">WithCronSchedule</span><span class="token punctuation">(</span><span class="token string">&quot;0/3 * * * * ?&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">WithDescription</span><span class="token punctuation">(</span><span class="token string">&quot;my awesome cron trigger&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// you can add calendars too (requires version 3.2)</span>
        <span class="token keyword">const</span> <span class="token class-name"><span class="token keyword">string</span></span> calendarName <span class="token operator">=</span> <span class="token string">&quot;myHolidayCalendar&quot;</span><span class="token punctuation">;</span>
        q<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddCalendar</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>HolidayCalendar<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>
            <span class="token named-parameter punctuation">name</span><span class="token punctuation">:</span> calendarName<span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">replace</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">updateTriggers</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span><span class="token function">AddExcludedDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>

        q<span class="token punctuation">.</span><span class="token function">AddTrigger</span><span class="token punctuation">(</span>t <span class="token operator">=&gt;</span> t
            <span class="token punctuation">.</span><span class="token function">WithIdentity</span><span class="token punctuation">(</span><span class="token string">&quot;Daily Trigger&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">ForJob</span><span class="token punctuation">(</span>jobKey<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">StartAt</span><span class="token punctuation">(</span>DateBuilder<span class="token punctuation">.</span><span class="token function">EvenSecondDate</span><span class="token punctuation">(</span>DateTimeOffset<span class="token punctuation">.</span>UtcNow<span class="token punctuation">.</span><span class="token function">AddSeconds</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">WithDailyTimeIntervalSchedule</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span><span class="token function">WithInterval</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> IntervalUnit<span class="token punctuation">.</span>Second<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">WithDescription</span><span class="token punctuation">(</span><span class="token string">&quot;my awesome daily time interval trigger&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">ModifiedByCalendar</span><span class="token punctuation">(</span>calendarName<span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// also add XML configuration and poll it for changes</span>
        q<span class="token punctuation">.</span><span class="token function">UseXmlSchedulingConfiguration</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span>
        <span class="token punctuation">{</span>
            x<span class="token punctuation">.</span>Files <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token string">&quot;~/quartz_jobs.config&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
            x<span class="token punctuation">.</span>ScanInterval <span class="token operator">=</span> TimeSpan<span class="token punctuation">.</span><span class="token function">FromSeconds</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            x<span class="token punctuation">.</span>FailOnFileNotFound <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            x<span class="token punctuation">.</span>FailOnSchedulingError <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// convert time zones using converter that can handle Windows/Linux differences</span>
        q<span class="token punctuation">.</span><span class="token function">UseTimeZoneConverter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// auto-interrupt long-running job</span>
        q<span class="token punctuation">.</span><span class="token function">UseJobAutoInterrupt</span><span class="token punctuation">(</span>options <span class="token operator">=&gt;</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// this is the default</span>
            options<span class="token punctuation">.</span>DefaultMaxRunTime <span class="token operator">=</span> TimeSpan<span class="token punctuation">.</span><span class="token function">FromMinutes</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        q<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">ScheduleJob</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>SlowJob<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>
            triggerConfigurator <span class="token operator">=&gt;</span> triggerConfigurator
                <span class="token punctuation">.</span><span class="token function">WithIdentity</span><span class="token punctuation">(</span><span class="token string">&quot;slowJobTrigger&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">StartNow</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">WithSimpleSchedule</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span><span class="token function">WithIntervalInSeconds</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">RepeatForever</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            jobConfigurator <span class="token operator">=&gt;</span> jobConfigurator
                <span class="token punctuation">.</span><span class="token function">WithIdentity</span><span class="token punctuation">(</span><span class="token string">&quot;slowJob&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">UsingJobData</span><span class="token punctuation">(</span>JobInterruptMonitorPlugin<span class="token punctuation">.</span>JobDataMapKeyAutoInterruptable<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
                <span class="token comment">// allow only five seconds for this job, overriding default configuration</span>
                <span class="token punctuation">.</span><span class="token function">UsingJobData</span><span class="token punctuation">(</span>JobInterruptMonitorPlugin<span class="token punctuation">.</span>JobDataMapKeyMaxRunTime<span class="token punctuation">,</span> TimeSpan<span class="token punctuation">.</span><span class="token function">FromSeconds</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span>TotalMilliseconds<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span>CultureInfo<span class="token punctuation">.</span>InvariantCulture<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// add some listeners</span>
        q<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddSchedulerListener</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>SampleSchedulerListener<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        q<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddJobListener</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>SampleJobListener<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>GroupMatcher<span class="token operator">&lt;</span>JobKey<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">GroupEquals</span><span class="token punctuation">(</span>jobKey<span class="token punctuation">.</span>Group<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        q<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddTriggerListener</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>SampleTriggerListener<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// example of persistent job store using JSON serializer as an example</span>
        <span class="token comment">/*
        q.UsePersistentStore(s =&gt;
        {
            s.UseProperties = true;
            s.RetryInterval = TimeSpan.FromSeconds(15);
            s.UseSqlServer(sqlServer =&gt;
            {
                sqlServer.ConnectionString = &quot;some connection string&quot;;
                // this is the default
                sqlServer.TablePrefix = &quot;QRTZ_&quot;;
            });
            s.UseJsonSerializer();
            s.UseClustering(c =&gt;
            {
                c.CheckinMisfireThreshold = TimeSpan.FromSeconds(20);
                c.CheckinInterval = TimeSpan.FromSeconds(10);
            });
        });
        */</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token comment">// we can use options pattern to support hooking your own configuration</span>
	<span class="token comment">// because we don't use service registration api, </span>
	<span class="token comment">// we need to manually ensure the job is present in DI</span>
	services<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddTransient</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>ExampleJob<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				
	services<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Configure</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>SampleOptions<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>Configuration<span class="token punctuation">.</span><span class="token function">GetSection</span><span class="token punctuation">(</span><span class="token string">&quot;Sample&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	services<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddOptions</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>QuartzOptions<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Configure</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IOptions<span class="token punctuation">&lt;</span>SampleOptions<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>options<span class="token punctuation">,</span> dep<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
		<span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">IsNullOrWhiteSpace</span><span class="token punctuation">(</span>dep<span class="token punctuation">.</span>Value<span class="token punctuation">.</span>CronSchedule<span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token punctuation">{</span>
				<span class="token class-name"><span class="token keyword">var</span></span> jobKey <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">JobKey</span><span class="token punctuation">(</span><span class="token string">&quot;options-custom-job&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;custom&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				options<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddJob</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>ExampleJob<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>j <span class="token operator">=&gt;</span> j<span class="token punctuation">.</span><span class="token function">WithIdentity</span><span class="token punctuation">(</span>jobKey<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				options<span class="token punctuation">.</span><span class="token function">AddTrigger</span><span class="token punctuation">(</span>trigger <span class="token operator">=&gt;</span> trigger
					<span class="token punctuation">.</span><span class="token function">WithIdentity</span><span class="token punctuation">(</span><span class="token string">&quot;options-custom-trigger&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;custom&quot;</span><span class="token punctuation">)</span>
					<span class="token punctuation">.</span><span class="token function">ForJob</span><span class="token punctuation">(</span>jobKey<span class="token punctuation">)</span>
					<span class="token punctuation">.</span><span class="token function">WithCronSchedule</span><span class="token punctuation">(</span>dep<span class="token punctuation">.</span>Value<span class="token punctuation">.</span>CronSchedule<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	
		
    <span class="token comment">// Quartz.Extensions.Hosting allows you to fire background service that handles scheduler lifecycle</span>
    services<span class="token punctuation">.</span><span class="token function">AddQuartzHostedService</span><span class="token punctuation">(</span>options <span class="token operator">=&gt;</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// when shutting down we want jobs to complete gracefully</span>
        options<span class="token punctuation">.</span>WaitForJobsToComplete <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/quartznet/quartznet/edit/main/docs/documentation/quartz-3.x/packages/microsoft-di-integration.md" target="_blank" rel="noopener noreferrer">Help us by improving this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2/9/2022, 1:12:43 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/documentation/quartz-3.x/packages/hosted-services-integration.html" class="prev">
        Hosted Services Integration
      </a></span> <span class="next"><a href="/documentation/quartz-3.x/packages/opentelemetry-integration.html">
        OpenTelemetry Integration
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.644f9716.js" defer></script><script src="/assets/js/3.836353be.js" defer></script><script src="/assets/js/106.8db45d2f.js" defer></script>
  </body>
</html>
